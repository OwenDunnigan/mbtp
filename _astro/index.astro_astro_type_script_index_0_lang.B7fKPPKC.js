function ke(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var he={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var we=he.exports,ve;function be(){return ve||(ve=1,(function(y,E){((M,g)=>{y.exports=g()})(we,function M(){var g=typeof self<"u"?self:typeof window<"u"?window:g!==void 0?g:{},j,x=!g.document&&!!g.postMessage,R=g.IS_PAPA_WORKER||!1,K={},le=0,o={};function V(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var r=fe(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new pe(r),(this._handle.streamer=this)._config=r}.call(this,e),this.parseChunk=function(t,r){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let h=this._config.newline;h||(n=this._config.quoteChar||'"',h=this._handle.guessLineEndings(t,n)),t=[...t.split(h).slice(i)].join(h)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&(n=this._config.beforeFirstChunk(t))!==void 0&&(t=n),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,n=(this._partialLine="",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=n.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),n&&n.data&&(this._rowCount+=n.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),R)g.postMessage({results:n,workerId:o.WORKER_ID,finished:i});else if(k(this._config.chunk)&&!r){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=n=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!i||!k(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(t){k(this._config.error)?this._config.error(t):R&&this._config.error&&g.postMessage({workerId:o.WORKER_ID,error:t,finished:!1})}}function ie(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),V.call(this,e),this._nextChunk=x?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),x||(t.onload=G(this._chunkLoaded,this),t.onerror=G(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!x),this._config.downloadRequestHeaders){var r,i=this._config.downloadRequestHeaders;for(r in i)t.setRequestHeader(r,i[r])}var n;this._config.chunkSize&&(n=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+n));try{t.send(this._config.downloadRequestBody)}catch(h){this._chunkError(h.message)}x&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){r=t.statusText||r,this._sendError(new Error(r))}}function se(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),V.call(this,e);var t,r,i=typeof FileReader<"u";this.stream=function(n){this._input=n,r=n.slice||n.webkitSlice||n.mozSlice,i?((t=new FileReader).onload=G(this._chunkLoaded,this),t.onerror=G(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var n=this._input,h=(this._config.chunkSize&&(h=Math.min(this._start+this._config.chunkSize,this._input.size),n=r.call(n,this._start,h)),t.readAsText(n,this._config.encoding));i||this._chunkLoaded({target:{result:h}})},this._chunkLoaded=function(n){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(n.target.result)},this._chunkError=function(){this._sendError(t.error)}}function ee(e){var t;V.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){var r,i;if(!this._finished)return r=this._config.chunkSize,t=r?(i=t.substring(0,r),t.substring(r)):(i=t,""),this._finished=!t,this.parseChunk(i)}}function ae(e){V.call(this,e=e||{});var t=[],r=!0,i=!1;this.pause=function(){V.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){V.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(n){this._input=n,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=G(function(n){try{t.push(typeof n=="string"?n:n.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(h){this._streamError(h)}},this),this._streamError=G(function(n){this._streamCleanUp(),this._sendError(n)},this),this._streamEnd=G(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=G(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function pe(e){var t,r,i,n,h=Math.pow(2,53),D=-h,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,f=this,C=0,a=0,z=!1,u=!1,c=[],s={data:[],errors:[],meta:{}};function T(p){return e.skipEmptyLines==="greedy"?p.join("").trim()==="":p.length===1&&p[0].length===0}function I(){if(s&&i&&(H("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(s.data=s.data.filter(function(w){return!T(w)})),P()){let w=function(A,b){k(e.transformHeader)&&(A=e.transformHeader(A,b)),c.push(A)};var l=w;if(s)if(Array.isArray(s.data[0])){for(var p=0;P()&&p<s.data.length;p++)s.data[p].forEach(w);s.data.splice(0,1)}else s.data.forEach(w)}function _(w,A){for(var b=e.header?{}:[],v=0;v<w.length;v++){var d=v,N=w[v],N=((m,S)=>(L=>(e.dynamicTypingFunction&&e.dynamicTyping[L]===void 0&&(e.dynamicTyping[L]=e.dynamicTypingFunction(L)),(e.dynamicTyping[L]||e.dynamicTyping)===!0))(m)?S==="true"||S==="TRUE"||S!=="false"&&S!=="FALSE"&&((L=>{if(U.test(L)&&(L=parseFloat(L),D<L&&L<h))return 1})(S)?parseFloat(S):B.test(S)?new Date(S):S===""?null:S):S)(d=e.header?v>=c.length?"__parsed_extra":c[v]:d,N=e.transform?e.transform(N,d):N);d==="__parsed_extra"?(b[d]=b[d]||[],b[d].push(N)):b[d]=N}return e.header&&(v>c.length?H("FieldMismatch","TooManyFields","Too many fields: expected "+c.length+" fields but parsed "+v,a+A):v<c.length&&H("FieldMismatch","TooFewFields","Too few fields: expected "+c.length+" fields but parsed "+v,a+A)),b}var O;s&&(e.header||e.dynamicTyping||e.transform)&&(O=1,!s.data.length||Array.isArray(s.data[0])?(s.data=s.data.map(_),O=s.data.length):s.data=_(s.data,0),e.header&&s.meta&&(s.meta.fields=c),a+=O)}function P(){return e.header&&c.length===0}function H(p,_,O,l){p={type:p,code:_,message:O},l!==void 0&&(p.row=l),s.errors.push(p)}k(e.step)&&(n=e.step,e.step=function(p){s=p,P()?I():(I(),s.data.length!==0&&(C+=p.data.length,e.preview&&C>e.preview?r.abort():(s.data=s.data[0],n(s,f))))}),this.parse=function(p,_,O){var l=e.quoteChar||'"',l=(e.newline||(e.newline=this.guessLineEndings(p,l)),i=!1,e.delimiter?k(e.delimiter)&&(e.delimiter=e.delimiter(p),s.meta.delimiter=e.delimiter):((l=((w,A,b,v,d)=>{var N,m,S,L;d=d||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var Z=0;Z<d.length;Z++){for(var W,re=d[Z],$=0,Q=0,F=0,q=(S=void 0,new de({comments:v,delimiter:re,newline:A,preview:10}).parse(w)),X=0;X<q.data.length;X++)b&&T(q.data[X])?F++:(W=q.data[X].length,Q+=W,S===void 0?S=W:0<W&&($+=Math.abs(W-S),S=W));0<q.data.length&&(Q/=q.data.length-F),(m===void 0||$<=m)&&(L===void 0||L<Q)&&1.99<Q&&(m=$,N=re,L=Q)}return{successful:!!(e.delimiter=N),bestDelimiter:N}})(p,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(i=!0,e.delimiter=o.DefaultDelimiter),s.meta.delimiter=e.delimiter),fe(e));return e.preview&&e.header&&l.preview++,t=p,r=new de(l),s=r.parse(t,_,O),I(),z?{meta:{paused:!0}}:s||{meta:{paused:!1}}},this.paused=function(){return z},this.pause=function(){z=!0,r.abort(),t=k(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){f.streamer._halted?(z=!1,f.streamer.parseChunk(t,!0)):setTimeout(f.resume,3)},this.aborted=function(){return u},this.abort=function(){u=!0,r.abort(),s.meta.aborted=!0,k(e.complete)&&e.complete(s),t=""},this.guessLineEndings=function(w,l){w=w.substring(0,1048576);var l=new RegExp(te(l)+"([^]*?)"+te(l),"gm"),O=(w=w.replace(l,"")).split("\r"),l=w.split(`
`),w=1<l.length&&l[0].length<O[0].length;if(O.length===1||w)return`
`;for(var A=0,b=0;b<O.length;b++)O[b][0]===`
`&&A++;return A>=O.length/2?`\r
`:"\r"}}function te(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function de(e){var t=(e=e||{}).delimiter,r=e.newline,i=e.comments,n=e.step,h=e.preview,D=e.fastMode,U=null,B=!1,f=e.quoteChar==null?'"':e.quoteChar,C=f;if(e.escapeChar!==void 0&&(C=e.escapeChar),(typeof t!="string"||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),i===t)throw new Error("Comment character same as delimiter");i===!0?i="#":(typeof i!="string"||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var a=0,z=!1;this.parse=function(u,c,s){if(typeof u!="string")throw new Error("Input must be a string");var T=u.length,I=t.length,P=r.length,H=i.length,p=k(n),_=[],O=[],l=[],w=a=0;if(!u)return $();if(D||D!==!1&&u.indexOf(f)===-1){for(var A=u.split(r),b=0;b<A.length;b++){if(l=A[b],a+=l.length,b!==A.length-1)a+=r.length;else if(s)return $();if(!i||l.substring(0,H)!==i){if(p){if(_=[],L(l.split(t)),Q(),z)return $()}else L(l.split(t));if(h&&h<=b)return _=_.slice(0,h),$(!0)}}return $()}for(var v=u.indexOf(t,a),d=u.indexOf(r,a),N=new RegExp(te(C)+te(f),"g"),m=u.indexOf(f,a);;)if(u[a]===f)for(m=a,a++;;){if((m=u.indexOf(f,m+1))===-1)return s||O.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:a}),W();if(m===T-1)return W(u.substring(a,m).replace(N,f));if(f===C&&u[m+1]===C)m++;else if(f===C||m===0||u[m-1]!==C){v!==-1&&v<m+1&&(v=u.indexOf(t,m+1));var S=Z((d=d!==-1&&d<m+1?u.indexOf(r,m+1):d)===-1?v:Math.min(v,d));if(u.substr(m+1+S,I)===t){l.push(u.substring(a,m).replace(N,f)),u[a=m+1+S+I]!==f&&(m=u.indexOf(f,a)),v=u.indexOf(t,a),d=u.indexOf(r,a);break}if(S=Z(d),u.substring(m+1+S,m+1+S+P)===r){if(l.push(u.substring(a,m).replace(N,f)),re(m+1+S+P),v=u.indexOf(t,a),m=u.indexOf(f,a),p&&(Q(),z))return $();if(h&&_.length>=h)return $(!0);break}O.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:a}),m++}}else if(i&&l.length===0&&u.substring(a,a+H)===i){if(d===-1)return $();a=d+P,d=u.indexOf(r,a),v=u.indexOf(t,a)}else if(v!==-1&&(v<d||d===-1))l.push(u.substring(a,v)),a=v+I,v=u.indexOf(t,a);else{if(d===-1)break;if(l.push(u.substring(a,d)),re(d+P),p&&(Q(),z))return $();if(h&&_.length>=h)return $(!0)}return W();function L(F){_.push(F),w=a}function Z(F){var q=0;return q=F!==-1&&(F=u.substring(m+1,F))&&F.trim()===""?F.length:q}function W(F){return s||(F===void 0&&(F=u.substring(a)),l.push(F),a=T,L(l),p&&Q()),$()}function re(F){a=F,L(l),l=[],d=u.indexOf(r,a)}function $(F){if(e.header&&!c&&_.length&&!B){var q=_[0],X=Object.create(null),ce=new Set(q);let me=!1;for(let Y=0;Y<q.length;Y++){let J=q[Y];if(X[J=k(e.transformHeader)?e.transformHeader(J,Y):J]){let ne,ye=X[J];for(;ne=J+"_"+ye,ye++,ce.has(ne););ce.add(ne),q[Y]=ne,X[J]++,me=!0,(U=U===null?{}:U)[ne]=J}else X[J]=1,q[Y]=J;ce.add(J)}me&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:_,errors:O,meta:{delimiter:t,linebreak:r,aborted:z,truncated:!!F,cursor:w+(c||0),renamedHeaders:U}}}function Q(){n($()),_=[],O=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return a}}function Ee(e){var t=e.data,r=K[t.workerId],i=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){i=!0,ge(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_e,resume:_e};if(k(r.userStep)){for(var h=0;h<t.results.data.length&&(r.userStep({data:t.results.data[h],errors:t.results.errors,meta:t.results.meta},n),!i);h++);delete t.results}else k(r.userChunk)&&(r.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!i&&ge(t.workerId,t.results)}function ge(e,t){var r=K[e];k(r.userComplete)&&r.userComplete(t),r.terminate(),delete K[e]}function _e(){throw new Error("Not implemented.")}function fe(e){if(typeof e!="object"||e===null)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=fe(e[t]);return r}function G(e,t){return function(){e.apply(t,arguments)}}function k(e){return typeof e=="function"}return o.parse=function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(k(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!k(t.transform)&&t.transform,!t.worker||!o.WORKERS_SUPPORTED)return r=null,o.NODE_STREAM_INPUT,typeof e=="string"?(e=(i=>i.charCodeAt(0)!==65279?i:i.slice(1))(e),r=new(t.download?ie:ee)(t)):e.readable===!0&&k(e.read)&&k(e.on)?r=new ae(t):(g.File&&e instanceof File||e instanceof Object)&&(r=new se(t)),r.stream(e);(r=(()=>{var i;return!!o.WORKERS_SUPPORTED&&(i=(()=>{var n=g.URL||g.webkitURL||null,h=M.toString();return o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",h,")();"],{type:"text/javascript"})))})(),(i=new g.Worker(i)).onmessage=Ee,i.id=le++,K[i.id]=i)})()).userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=k(t.step),t.chunk=k(t.chunk),t.complete=k(t.complete),t.error=k(t.error),delete t.worker,r.postMessage({input:e,config:t,workerId:r.id})},o.unparse=function(e,t){var r=!1,i=!0,n=",",h=`\r
`,D='"',U=D+D,B=!1,f=null,C=!1,a=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||o.BAD_DELIMITERS.filter(function(c){return t.delimiter.indexOf(c)!==-1}).length||(n=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(B=t.skipEmptyLines),typeof t.newline=="string"&&(h=t.newline),typeof t.quoteChar=="string"&&(D=t.quoteChar),typeof t.header=="boolean"&&(i=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");f=t.columns}t.escapeChar!==void 0&&(U=t.escapeChar+D),t.escapeFormulae instanceof RegExp?C=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(C=/^[=+\-@\t\r].*$/)}})(),new RegExp(te(D),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return z(null,e,B);if(typeof e[0]=="object")return z(f||Object.keys(e[0]),e,B)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||f),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),z(e.fields||[],e.data||[],B);throw new Error("Unable to serialize unrecognized input");function z(c,s,T){var I="",P=(typeof c=="string"&&(c=JSON.parse(c)),typeof s=="string"&&(s=JSON.parse(s)),Array.isArray(c)&&0<c.length),H=!Array.isArray(s[0]);if(P&&i){for(var p=0;p<c.length;p++)0<p&&(I+=n),I+=u(c[p],p);0<s.length&&(I+=h)}for(var _=0;_<s.length;_++){var O=(P?c:s[_]).length,l=!1,w=P?Object.keys(s[_]).length===0:s[_].length===0;if(T&&!P&&(l=T==="greedy"?s[_].join("").trim()==="":s[_].length===1&&s[_][0].length===0),T==="greedy"&&P){for(var A=[],b=0;b<O;b++){var v=H?c[b]:b;A.push(s[_][v])}l=A.join("").trim()===""}if(!l){for(var d=0;d<O;d++){0<d&&!w&&(I+=n);var N=P&&H?c[d]:d;I+=u(s[_][N],d)}_<s.length-1&&(!T||0<O&&!w)&&(I+=h)}}return I}function u(c,s){var T,I;return c==null?"":c.constructor===Date?JSON.stringify(c).slice(1,25):(I=!1,C&&typeof c=="string"&&C.test(c)&&(c="'"+c,I=!0),T=c.toString().replace(a,U),(I=I||r===!0||typeof r=="function"&&r(c,s)||Array.isArray(r)&&r[s]||((P,H)=>{for(var p=0;p<H.length;p++)if(-1<P.indexOf(H[p]))return!0;return!1})(T,o.BAD_DELIMITERS)||-1<T.indexOf(n)||T.charAt(0)===" "||T.charAt(T.length-1)===" ")?D+T+D:T)}},o.RECORD_SEP="",o.UNIT_SEP="",o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!x&&!!g.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=de,o.ParserHandle=pe,o.NetworkStreamer=ie,o.FileStreamer=se,o.StringStreamer=ee,o.ReadableStreamStreamer=ae,g.jQuery&&((j=g.jQuery).fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(h){if(!(j(this).prop("tagName").toUpperCase()==="INPUT"&&j(this).attr("type").toLowerCase()==="file"&&g.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)r.push({file:this.files[D],inputElem:this,instanceConfig:j.extend({},t)})}),i(),this;function i(){if(r.length===0)k(e.complete)&&e.complete();else{var h,D,U,B,f=r[0];if(k(e.before)){var C=e.before(f.file,f.inputElem);if(typeof C=="object"){if(C.action==="abort")return h="AbortError",D=f.file,U=f.inputElem,B=C.reason,void(k(e.error)&&e.error({name:h},D,U,B));if(C.action==="skip")return void n();typeof C.config=="object"&&(f.instanceConfig=j.extend(f.instanceConfig,C.config))}else if(C==="skip")return void n()}var a=f.instanceConfig.complete;f.instanceConfig.complete=function(z){k(a)&&a(z,f.file,f.inputElem),n()},o.parse(f.file,f.instanceConfig)}}function n(){r.splice(0,1),i()}}),R&&(g.onmessage=function(e){e=e.data,o.WORKER_ID===void 0&&e&&(o.WORKER_ID=e.workerId),typeof e.input=="string"?g.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(g.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&g.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(ie.prototype=Object.create(V.prototype)).constructor=ie,(se.prototype=Object.create(V.prototype)).constructor=se,(ee.prototype=Object.create(ee.prototype)).constructor=ee,(ae.prototype=Object.create(V.prototype)).constructor=ae,o})})(he)),he.exports}var Se=be();const Re=ke(Se),oe="https://docs.google.com/spreadsheets/d/e/2PACX-1vSWxNSXeX_5a4kBugga7rNrH8D-Ahj_C6sspbJXy2c7NlV7pS667RdsMvLcz9MCK6V-KqB6qAt7d_v9/pub?gid=0&single=true&output=csv";async function Ce(){console.log("Init Lunch Page");try{console.log("Fetching data from:",oe);let y;if(window.lunchDataPromise){console.log("Found preloaded data promise. Awaiting...");try{y=await window.lunchDataPromise,console.log("Preload resolved. Type:",typeof y,"Length:",y?.length),y===null&&console.log("Preload promise resolved to null")}catch(E){console.error("Error awaiting preload promise:",E)}}else console.log("No preloaded data promise found.");if(!y){console.log("Fetching fresh data from:",oe);const E=await fetch(oe);if(console.log("Fetch response status:",E.status),!E.ok)throw new Error(`Failed to fetch data: ${E.status} ${E.statusText}`);y=await E.text()}if(!y||y.trim().length===0)throw new Error("Received empty data");console.log("CSV Data received (first 100 chars):",y.substring(0,100)),Re.parse(y,{header:!0,skipEmptyLines:!0,complete:E=>{console.log("Parsed results:",E),E.errors&&E.errors.length>0&&console.error("Parse errors:",E.errors);const M=E.data;if(M.length===0){ue("No data found in CSV.");return}Oe(M),xe(M)},error:E=>{console.error("Error parsing CSV:",E),ue(`Error parsing CSV: ${E.message}`)}})}catch(y){console.error("Error fetching data:",y),y instanceof Error?ue(y.message):ue(String(y))}}function ue(y){const E=document.getElementById("hours-grid"),M=document.getElementById("menu-section"),g=`<p style="color: red; font-weight: bold;">${y}</p>`;E&&(E.innerHTML=g),M&&(M.innerHTML=g)}function Oe(y){const E=document.getElementById("hours-grid");if(!E)return;const M=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=new Map;y.forEach(x=>{const R=x["Day Available"];R&&!g.has(R)&&g.set(R,{open:x["Opening Time"],close:x["Closing Time"]})});let j="";M.forEach(x=>{if(g.has(x)){const{open:R,close:K}=g.get(x),le=R==="CLOSED"||K==="CLOSED"?"CLOSED":`${R} - ${K}`;j+=`
                    <div class="hour-row">
                        <span class="day">${x}</span>
                        <span class="time">${le}</span>
                    </div>
                `}}),E.innerHTML=j}function xe(y){const E=document.getElementById("menu-section");if(!E)return;const M=new Map;y.forEach(j=>{if(!j["Item Name"]||!j.Category)return;const x=j.Category;M.has(x)||M.set(x,[]),M.get(x).find(K=>K["Item Name"]===j["Item Name"])||M.get(x).push(j)});let g="";M.forEach((j,x)=>{g+=`
                <div class="category-block">
                    <h2 class="category-title">${x}</h2>
                    <div class="category-items">
            `,j.forEach(R=>{const K=R.Image?`<div class="item-image"><img src="${R.Image}" alt="${R["Item Name"]}" loading="lazy" /></div>`:"";g+=`
                    <div class="menu-item-card">
                        ${K}
                        <div class="item-header">
                            <h3 class="item-name">${R["Item Name"]}</h3>
                            <span class="item-price">$${R["Price (CAD)"]}</span>
                        </div>
                        <div class="item-details">
                            ${R.Dietary&&R.Dietary!=="None"?`<span class="dietary-tag">${R.Dietary}</span>`:""}
                            ${R["Special Offer"]&&R["Special Offer"]!=="None"?`<span class="special-tag">${R["Special Offer"]}</span>`:""}
                        </div>
                    </div>
                `}),g+=`
                    </div>
                </div>
            `}),E.innerHTML=g}document.addEventListener("astro:page-load",()=>{document.getElementById("hours-grid")&&Ce()});
